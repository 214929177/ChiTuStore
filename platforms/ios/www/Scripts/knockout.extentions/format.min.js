(function(n){typeof define=="function"?define(["knockout"],n):n(ko)})(function(){function t(n,t){for(var e,f,o,u,c,r,i=1;i<t.length;i++)t[i]=ko.unwrap(t[i]);for(e="",f=t[0],i=0;;){if(o=f.indexOf("{",i),u=f.indexOf("}",i),o<0&&u<0){e+=f.slice(i);break}if(u>0&&(u<o||o<0)){if(f.charAt(u+1)!=="}")throw Error.argument("format","Sys.Res.stringFormatBraceMismatch");e+=f.slice(i,u+1);i=u+2;continue}if(e+=f.slice(i,o),i=o+1,f.charAt(i)==="{"){e+="{";i++;continue}if(u<0)throw Error.argument("format","Sys.Res.stringFormatBraceMismatch");var s=f.substring(i,u),h=s.indexOf(":"),l=parseInt(h<0?s:s.substring(0,h),10)+1;if(isNaN(l))throw Error.argument("format","Sys.Res.stringFormatInvalid");c=h<0?"":s.substring(h+1);r=t[l];(typeof r=="undefined"||r===null)&&(r="");e+=r.toFormattedString?r.toFormattedString(c):n&&r.localeFormat?r.localeFormat(c):r.format?r.format(c):r.toString();i=u+1}return e}function n(n,i){var r=t(!0,["￥{0:C2}",i()]);$(n).html(r)}window.ko||(window.ko=arguments[0]);Number.prototype.toFormattedString=function(n){var i=new RegExp("^C[0-9]+"),t;return i.test(n)?(t=n.substr(1),this.toFixed(t)):this};Date.prototype.toFormattedString=function(n){switch(n){case"d":return chitu.utility.format("{0}-{1}-{2}",this.getFullYear(),this.getMonth()+1,this.getDate());case"g":return chitu.utility.format("{0}-{1}-{2} {3}:{4}",this.getFullYear(),this.getMonth()+1,this.getDate(),this.getHours(),this.getMinutes());case"G":return chitu.utility.format("{0}-{1}-{2} {3}:{4}:{5}",this.getFullYear(),this.getMonth()+1,this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds());case"t":return chitu.utility.format("{0}:{1}",this.getHours(),this.getMinutes());case"T":return chitu.utility.format("{0}:{1}:{2}",this.getHours(),this.getMinutes(),this.getSeconds())}return n!=null&&$.datepicker!=null?$.datepicker.formatDate(n,this):this.toString()};ko.bindingHandlers.money={init:function(t,i){n(t,i)},update:function(t,i){n(t,i)}}});
//# sourceMappingURL=format.min.js.map
