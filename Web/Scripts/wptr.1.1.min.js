var WebPullToRefresh=function(){"use strict";var r={contentEl:"content",ptrEl:"ptr",distanceToRefresh:70,loadingFunction:!1,resistance:2.5},n={},t={enabled:!1,distance:0,startingPositionY:0},i=document.body.classList,o=function(t){if(t=t||{},n={contentEl:t.contentEl||document.getElementById(r.contentEl),ptrEl:t.ptrEl||document.getElementById(r.ptrEl),distanceToRefresh:t.distanceToRefresh||r.distanceToRefresh,loadingFunction:t.loadingFunction||r.loadingFunction,resistance:t.resistance||r.resistance},!n.contentEl||!n.ptrEl)return!1;var i=new Hammer(n.contentEl);i.get("pan").set({direction:Hammer.DIRECTION_VERTICAL});i.on("panstart",s);i.on("pandown",h);i.on("panup",c);i.on("panend",l)},s=function(){t.startingPositionY=document.body.scrollTop;t.startingPositionY===0&&(t.enabled=!0)},h=function(i){t.enabled&&(i.preventDefault(),t.distance=i.distance/n.resistance,f(),e())},c=function(i){t.enabled&&t.distance!==0&&(i.preventDefault(),t.distance=t.distance<i.distance/n.resistance?0:i.distance/n.resistance,f(),e())},f=function(){n.contentEl.style.transform=n.contentEl.style.webkitTransform="translate3d( 0, "+t.distance+"px, 0 )";n.ptrEl.style.transform=n.ptrEl.style.webkitTransform="translate3d( 0, "+(t.distance-n.ptrEl.offsetHeight)+"px, 0 )"},e=function(){t.distance>n.distanceToRefresh?i.add("ptr-refresh"):i.remove("ptr-refresh")},l=function(i){t.enabled&&(i.preventDefault(),n.contentEl.style.transform=n.contentEl.style.webkitTransform="",n.ptrEl.style.transform=n.ptrEl.style.webkitTransform="",document.body.classList.contains("ptr-refresh")?a():u(),t.distance=0,t.enabled=!1)},a=function(){if(i.add("ptr-loading"),!n.loadingFunction)return u();var t=n.loadingFunction();setTimeout(function(){t.then(u)},1e3)},u=function(){i.remove("ptr-loading");i.remove("ptr-refresh");i.add("ptr-reset");var n=function(){i.remove("ptr-reset");document.body.removeEventListener("transitionend",n,!1)};document.body.addEventListener("transitionend",n,!1)};return{init:o}}();
//# sourceMappingURL=wptr.1.1.min.js.map
