(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof module!="undefined"&&module.exports?module.exports=n(require(["jquery"])):window.chitu=n()})(function(){
/** @license
 * crossroads <http://millermedeiros.github.com/crossroads.js/>
 * Author: Miller Medeiros | MIT License
 * v0.12.0 (2013/01/21 13:47)
 */
function s(n){i==null&&(i=0,i=window.setInterval(function(){if(r==t.scrollTop){window.clearInterval(i);i=null;r=null;n.on_scrollEnd(t);return}r=t.scrollTop},o))}var f=function(){function t(n,t){if(n.indexOf)return n.indexOf(t);for(var i=n.length;i--;)if(n[i]===t)return i;return-1}function e(n,i){var r=t(n,i);r!==-1&&n.splice(r,1)}function o(n,t){return"[object "+t+"]"===Object.prototype.toString.call(n)}function s(n){return o(n,"RegExp")}function l(n){return o(n,"Array")}function h(n){return typeof n=="function"}function r(n){return n===null||n==="null"?null:n==="true"?!0:n==="false"?!1:n===f||n==="undefined"?f:n===""||isNaN(n)?n:parseFloat(n)}function a(n){for(var t=n.length,i=[];t--;)i[t]=r(n[t]);return i}function v(n,t){for(var f=(n||"").replace("?","").split("&"),e=f.length,o={},i,u;e--;)i=f[e].split("="),u=t?r(i[1]):i[1],o[i[0]]=typeof u=="string"?decodeURIComponent(u):u;return o}function i(){this.bypassed=$.Callbacks();this.routed=$.Callbacks();this._routes=[];this._prevRoutes=[];this._piped=[];this.resetState()}function c(n,t,i,r){var u=s(n),f=r.patternLexer;this._router=r;this._pattern=n;this._paramsIds=u?null:f.getParamIds(n);this._optionalParamsIds=u?null:f.getOptionalParamsIds(n);this._matchRegexp=u?n:f.compilePattern(n,r.ignoreCase);this.matched=$.Callbacks();this.switched=$.Callbacks();t&&this.matched.add(t);this._priority=i||0}var n,u,f;return u=/t(.+)?/.exec("t")[1]==="",i.prototype={greedy:!1,greedyEnabled:!0,ignoreCase:!0,ignoreState:!1,shouldTypecast:!1,normalizeFn:null,resetState:function(){this._prevRoutes.length=0;this._prevMatchedRequest=null;this._prevBypassedRequest=null},create:function(){return new i},addRoute:function(n,t,i){var r=new c(n,t,i,this);return this._sortedInsert(r),r},removeRoute:function(n){e(this._routes,n);n._destroy()},removeAllRoutes:function(){for(var n=this.getNumRoutes();n--;)this._routes[n]._destroy();this._routes.length=0},parse:function(n,t){if(n=n||"",t=t||[],this.ignoreState||n!==this._prevMatchedRequest&&n!==this._prevBypassedRequest){var r=this._getMatchedRoutes(n),u=0,f=r.length,i;if(f)for(this._prevMatchedRequest=n,this._notifyPrevRoutes(r,n),this._prevRoutes=r;u<f;)i=r[u],i.route.matched.fire.apply(i.route.matched,t.concat(i.params)),i.isFirst=!u,this.routed.fire.apply(this.routed,t.concat([n,i])),u+=1;else this._prevBypassedRequest=n,this.bypassed.fire.apply(this.bypassed,t.concat([n]));this._pipeParse(n,t)}},_notifyPrevRoutes:function(n,t){for(var r=0,i;i=this._prevRoutes[r++];)i.route.switched&&this._didSwitch(i.route,n)&&i.route.switched.fire(t)},_didSwitch:function(n,t){for(var i,r=0;i=t[r++];)if(i.route===n)return!1;return!0},_pipeParse:function(n,t){for(var r=0,i;i=this._piped[r++];)i.parse(n,t)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(n){var t=this._routes,i=t.length;do--i;while(t[i]&&n._priority<=t[i]._priority);t.splice(i+1,0,n)},_getMatchedRoutes:function(n){for(var i=[],r=this._routes,u=r.length,t;t=r[--u];)if((!i.length||this.greedy||t.greedy)&&t.match(n)&&i.push({route:t,params:t._getParamsArray(n)}),!this.greedyEnabled&&i.length)break;return i},pipe:function(n){this._piped.push(n)},unpipe:function(n){e(this._piped,n)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}},n=new i,n.VERSION="0.12.0",n.NORM_AS_ARRAY=function(n,t){return[t.vals_]},n.NORM_AS_OBJECT=function(n,t){return[t]},c.prototype={greedy:!1,rules:void 0,match:function(n){return n=n||"",this._matchRegexp.test(n)&&this._validateParams(n)},_validateParams:function(n){var i=this.rules,r=this._getParamsObject(n);for(var t in i)if(t!=="normalize_"&&i.hasOwnProperty(t)&&!this._isValidParam(n,t,r))return!1;return!0},_isValidParam:function(n,i,r){var u=this.rules[i],f=r[i],e=!1,o=i.indexOf("?")===0;return f==null&&this._optionalParamsIds&&t(this._optionalParamsIds,i)!==-1?e=!0:s(u)?(o&&(f=r[i+"_"]),e=u.test(f)):l(u)?(o&&(f=r[i+"_"]),e=this._isValidArrayRule(u,f)):h(u)&&(e=u(f,n,r)),e},_isValidArrayRule:function(n,i){if(!this._router.ignoreCase)return t(n,i)!==-1;typeof i=="string"&&(i=i.toLowerCase());for(var u=n.length,r,f;u--;)if(r=n[u],f=typeof r=="string"?r.toLowerCase():r,f===i)return!0;return!1},_getParamsObject:function(n){for(var h=this._router.shouldTypecast,o=this._router.patternLexer.getParamValues(n,this._matchRegexp,h),f={},e=o.length,s,i;e--;)i=o[e],this._paramsIds&&(s=this._paramsIds[e],s.indexOf("?")===0&&i&&(f[s+"_"]=i,i=v(i,h),o[e]=i),u&&i===""&&t(this._optionalParamsIds,s)!==-1&&(i=void 0,o[e]=i),f[s]=i),f[e]=i;return f.request_=h?r(n):n,f.vals_=o,f},_getParamsArray:function(n){var t=this.rules?this.rules.normalize_:null;return t=t||this._router.normalizeFn,t&&h(t)?t(n,this._getParamsObject(n)):this._getParamsObject(n).vals_},interpolate:function(n){var t=this._router.patternLexer.interpolate(this._pattern,n);if(!this._validateParams(t))throw new Error("Generated string doesn't validate against `Route.rules`.");return t},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.empty();this.switched.empty();this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}},i.prototype.patternLexer=function(){function l(){var i,t;for(i in n)n.hasOwnProperty(i)&&(t=n[i],t.id="__CR_"+i+"__",t.save="save"in t?t.save.replace("{{id}}",t.id):t.id,t.rRestore=new RegExp(t.id,"g"))}function e(n,t){var i=[],r;for(n.lastIndex=0;r=n.exec(t);)i.push(r[1]);return i}function v(n){return e(r,n)}function y(t){return e(n.OP.rgx,t)}function p(n,r){return n=n||"",n&&(t===i?n=n.replace(h,""):t===f&&(n=n.replace(c,"")),n=o(n,"rgx","save"),n=n.replace(s,"\\$&"),n=o(n,"rRestore","res"),t===i&&(n="\\/?"+n)),t!==u&&(n+="\\/?"),new RegExp("^"+n+"$",r?"i":"")}function o(t,i,r){var u;for(var f in n)n.hasOwnProperty(f)&&(u=n[f],t=t.replace(u[i],u[r]));return t}function w(n,t,i){var r=t.exec(n);return r&&(r.shift(),i&&(r=a(r))),r}function b(t,i){if(typeof t!="string")throw new Error("Route pattern should be a string.");var u=function(n,t){var r,u,f;if(t=t.substr(0,1)==="?"?t.substr(1):t,i[t]!=null){if(typeof i[t]=="object"){u=[];for(f in i[t])u.push(encodeURI(f+"="+i[t][f]));r="?"+u.join("&")}else r=String(i[t]);if(n.indexOf("*")===-1&&r.indexOf("/")!==-1)throw new Error('Invalid value "'+r+'" for segment "'+n+'".');}else if(n.indexOf("{")!==-1)throw new Error("The segment "+n+" is required.");else r="";return r};return n.OS.trail||(n.OS.trail=new RegExp("(?:"+n.OS.id+")+$")),t.replace(n.OS.rgx,n.OS.save).replace(r,u).replace(n.OS.trail,"").replace(n.OS.rRestore,"/")}var s=/[\\.+*?\^$\[\](){}\/'#]/g,h=/^\/|\/$/g,c=/\/$/g,r=/(?:\{|:)([^}:]+)(?:\}|:)/g,n={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},i=1,u=2,f=3,t=i;return l(),{strict:function(){t=u},loose:function(){t=i},legacy:function(){t=f},getParamIds:v,getOptionalParamsIds:y,getParamValues:w,compilePattern:p,interpolate:b}}(),window.crossroads=n,n},n;window.crossroads=f(window.jQuery),function(n){var t=n.Errors,i=function(){function n(){}return n.isType=function(n,t){for(var i in n.prototype)if(t[i]===undefined)return!1;return!0},n.isDeferred=function(n){return n==null?!1:n.pipe!=null&&n.always!=null&&n.done!=null?!0:!1},n.format=function(n,t,i,r,u,f,e,o,s,h,c){for(var a=[t,i,r,u,f,e,o,s,h,c],l=0;l<a.length;l++){if(a[l]==null)break;n=n.replace(new RegExp("\\{"+l+"\\}","g"),function(){return a[l]})}return n},n.fileName=function(n,i){var r,u;if(!n)throw t.argumentNull("url");return i=i||!0,n=n.replace("http://","/"),r=n.replace(/^.*[\\\/]/,""),i===!0&&(u=r.split("."),r=u[0]),r},n.log=function(n,t){if(t===void 0&&(t=[]),window.console){if(t==null){console.log(n);return}var i=this.format.apply(this,arguments);console.log(i)}},n}();n.Utility=i}(n||(n={})),function(n){var i=n,f=n.Utility,t=n.Errors,r=10,u=function(){function u(r){if(this.pageCreating=i.Callbacks(),this.pageCreated=i.Callbacks(),this.page_stack=[],this._routes=new n.RouteCollection,this._runned=!1,r==null)throw t.argumentNull("container");if(!r.container)throw new Error("The config has not a container property.");if(!$.isFunction(r.container)&&!r.container.tagName)throw new Error("Parameter container is not a function or html element.");r.openSwipe=r.openSwipe||function(){return n.SwipeDirection.None};r.closeSwipe=r.closeSwipe||function(){return n.SwipeDirection.None};r.scrollType=r.scrollType||function(){return n.ScrollType.Document};this.config=r}return u.prototype.on_pageCreating=function(t){return n.fireCallback(this.pageCreating,[this,t])},u.prototype.on_pageCreated=function(t){return n.fireCallback(this.pageCreated,[this,t])},u.prototype.routes=function(){return this._routes},u.prototype.currentPage=function(){return this.page_stack.length>0?this.page_stack[this.page_stack.length-1]:null},u.prototype.previousPage=function(){return this.page_stack.length>1?this.page_stack[this.page_stack.length-2]:null},u.prototype.hashchange=function(){var t,i,r;if(window.location.skip==!0){window.location.skip=!1;return}if(t=window.location.hash,!t){n.Utility.log("The url is not contains hash.");return}i="";this.previousPage()!=null&&(i=this.previousPage().routeData.url());i.toLowerCase()==t.substr(1).toLowerCase()?this.closeCurrentPage():(r=window.location.arguments||{},window.location.arguments=null,this.showPage(t.substr(1),r))},u.prototype.run=function(){if(!this._runned){var n=this;$.proxy(this.hashchange,this)();$(window).bind("hashchange",$.proxy(this.hashchange,this));this._runned=!0}},u.prototype.getCachePage=function(n){for(var t=this.page_stack.length-1;t>=0;t--)if(this.page_stack[t].name==n)return this.page_stack[t];return null},u.prototype.showPage=function(n,i){var u,f,o,s,e,h,c;if(i=i||{},!n)throw t.argumentNull("url");if(u=this.routes().getRouteData(n),u==null)throw t.noneRouteMatched(n);if($.isFunction(this.config.container)){if(f=this.config.container(u.values()),f==null)throw new Error("The result of continer function cannt be null");}else f=this.config.container;return o=this.currentPage(),s=document.createElement("div"),f.appendChild(s),e=this.createPage(n,s),this.page_stack.push(e),console.log("page_stack lenght:"+this.page_stack.length),this.page_stack.length>r&&(h=this.page_stack.shift(),h.close({})),c=this.config.openSwipe(u),$.extend(i,u.values()),e.open(i,c).done(function(){o&&o.hide()}),e},u.prototype.createPageNode=function(){return document.createElement("div")},u.prototype.closeCurrentPage=function(){var n=this.currentPage(),t=this.previousPage(),i;n!=null&&(i=this.config.closeSwipe(n.routeData),n.close({},i),t!=null&&t.show(),this.page_stack.pop(),console.log("page_stack lenght:"+this.page_stack.length))},u.prototype.createPage=function(r,u,f){var e,c,o;if(!r)throw t.argumentNull("url");if(!u)throw t.argumentNull("element");if(e=this.routes().getRouteData(r),e==null)throw t.noneRouteMatched(r);var a=e.values().controller,v=e.values().action,s=n.createViewDeferred(e),l=n.createActionDeferred(e),h=new i.PageContext(s,e);this.on_pageCreating(h);c=this.config.scrollType(e);o=new i.Page(u,c,f);o.routeData=e;o.view=s;o.action=l;this.on_pageCreated(o,h);return o},u.prototype.redirect=function(n,t){return t===void 0&&(t={}),window.location.skip=!0,window.location.hash=n,this.showPage(n,t)},u.prototype.back=function(n){return(n===void 0&&(n=undefined),window.history.length==0)?$.Deferred().reject():(window.history.back(),$.Deferred().resolve())},u}();n.Application=u}(n||(n={})),function(n){var t=function(){function n(n,t){this._routeData=t;this._view=n;this._routeData=t}return n.prototype.view=function(){return this._view},n.prototype.routeData=function(){return this._routeData},n}();n.PageContext=t}(n||(n={})),function(n){var i=n.Errors,r=n,t=function(){function n(){this._controllers={};this._controllers={}}return n.prototype.controllers=function(){return this._controllers},n.prototype.actionLocationFormater=function(){return this._actionLocationFormater},n}();n.ControllerFactory=t}(n||(n={})),function(n){var t=n.Utility,i=function(){function n(){}return n.argumentNull=function(n){var i=t.format('The argument "{0}" cannt be null.',n);return new Error(i)},n.modelFileExpecteFunction=function(n){var i=t.format('The eval result of script file "{0}" is expected a function.',n);return new Error(i)},n.paramTypeError=function(n,i){var r=t.format('The param "{0}" is expected "{1}" type.',n,i);return new Error(r)},n.viewNodeNotExists=function(n){var i=t.format('The view node "{0}" is not exists.',n);return new Error(i)},n.pathPairRequireView=function(n){var i=t.format('The view value is required for path pair, but the item with index "{0}" is miss it.',n);return new Error(i)},n.notImplemented=function(n){var i=t.format('The method "{0}" is not implemented.',n);return new Error(i)},n.routeExists=function(n){var i=t.format('Route named "{0}" is exists.',n);return new Error(i)},n.routeResultRequireController=function(n){var i=t.format('The parse result of route "{0}" does not contains controler.',n);return new Error(i)},n.routeResultRequireAction=function(n){var i=t.format('The parse result of route "{0}" does not contains action.',n);return new Error(i)},n.ambiguityRouteMatched=function(n,i,r){var u=t.format("Ambiguity route matched, {0} is match in {1} and {2}.",n,i,r);return new Error(u)},n.noneRouteMatched=function(n){var i=t.format('None route matched with url "{0}".',n);return new Error(i)},n.emptyStack=function(){return new Error("The stack is empty.")},n.canntParseUrl=function(n){var i=t.format('Can not parse the url "{0}" to route data.',n);return new Error(i)},n.routeDataRequireController=function(){return new Error('The route data does not contains a "controller" file.')},n.routeDataRequireAction=function(){return new Error('The route data does not contains a "action" file.')},n.parameterRequireField=function(n,i){var r=t.format("Parameter {1} does not contains field {0}.",n,i);return new Error(r)},n.viewCanntNull=function(){return new Error("The view or viewDeferred of the page cannt null.")},n}();n.Errors=i}(n||(n={})),function(n){function u(n){var t=i[n]={};return jQuery.each(n.match(r)||[],function(n,i){t[i]=!0}),t}function e(t){t===void 0&&(t=null);t=typeof t=="string"?i[t]||u(t):jQuery.extend({},t);var e,l,h,a,o,s,r=[],f=!t.once&&[],v=function(n){for(e=t.memory&&n,l=!0,s=a||0,a=0,o=r.length,h=!0;r&&s<o;s++){var i=r[s].apply(n[0],n[1]);if(i!=null&&n[0].results.push(i),i===!1&&t.stopOnFalse){e=!1;break}}h=!1;r&&(f?f.length&&v(f.shift()):e?r=[]:c.disable())},c={results:[],add:function(){if(r){var n=r.length;(function i(n){jQuery.each(n,function(n,u){var f=jQuery.type(u);f==="function"?t.unique&&c.has(u)||r.push(u):u&&u.length&&f!=="string"&&i(u)})})(arguments);h?o=r.length:e&&(a=n,v(e))}return this},remove:function(){return r&&jQuery.each(arguments,function(n,t){for(var i;(i=jQuery.inArray(t,r,i))>-1;)r.splice(i,1),h&&(i<=o&&o--,i<=s&&s--)}),this},has:function(n){return n?jQuery.inArray(n,r)>-1:!!(r&&r.length)},empty:function(){return r=[],o=0,this},disable:function(){return r=f=e=undefined,this},disabled:function(){return!r},lock:function(){return f=undefined,e||c.disable(),this},locked:function(){return!f},fireWith:function(n,t){return n.results=[],r&&(!l||f)&&(t=t||[],t=[n,t.slice?t.slice():t],h?f.push(t):v(t)),n.results},fire:function(){return c.fireWith(this,arguments)},fired:function(){return!!l},count:function(){return r.length}};return new n.Callback(c)}function o(t,i){for(var u=t.fire.apply(t,i),f=[],r=0;r<u.length;r++)n.Utility.isDeferred(u[r])&&f.push(u[r]);return f.length==0?$.Deferred().resolve():$.when.apply($,f)}var r=/\S+/g,i={},f=function(){function n(n){this.source=n}return n.prototype.add=function(n){this.source.add(n)},n.prototype.remove=function(n){this.source.remove(n)},n.prototype.has=function(n){return this.source.has(n)},n.prototype.fireWith=function(n,t){return this.source.fireWith(n,t)},n.prototype.fire=function(n,t,i){return this.source.fire(n,t,i)},n}(),t;n.Callback=f;n.Callbacks=e;n.fireCallback=o;t=window.crossroads;$.extend(t,{_create:t.create,create:function(){var t=this._create();return t.getRouteData=function(t,i){if(t=t||"",i=i||[],this.ignoreState||t!==this._prevMatchedRequest&&t!==this._prevBypassedRequest){var r=this._getMatchedRoutes(t),u=r.length;if(u==0)return null;if(u>1)throw n.Errors.ambiguityRouteMatched(t,"route1","route2");return r[0]}},t}})}(n||(n={})),function(n){var t;(function(n){function o(n,t){var f,e;return t=t||{},t=$.extend({text:function(n){this.element.innerHTML=r[n]}},t),f=t.element,f==null&&(f=document.createElement("div"),f.className="page-pulldown",f.innerHTML=i.init,e=n.nodes().content,e.childNodes.length==0?e.appendChild(f):e.insertBefore(f,e.childNodes[0]),t.element=f),new u(t)}var f,t,r,i,u,e;n.createPullDownBar=o;f=function(){function n(){}return n.PULLDOWN_EXECUTE_CRITICAL_HEIGHT=60,n.PULLUP_EXECUTE_CRITICAL_HEIGHT=60,n.PULL_DOWN_MAX_HEIGHT=150,n.PULL_UP_MAX_HEIGHT=150,n.MINI_MOVE_DISTANCE=3,n}();n.config=f;t=function(){function n(){}return n.init="init",n.ready="ready",n.doing="doing",n.done="done",n}();n.RefreshState=t;r=function(){function n(){}return n.init='<div style="padding-top:10px;">下拉可以刷新<\/div>',n.ready='<div style="padding-top:10px;">松开后刷新<\/div>',n.doing='<div style=""><i class="icon-spinner icon-spin"><\/i><span>&nbsp;正在更新中<\/span><\/div>',n.done='<div style="padding-top:10px;">更新完毕<\/div>',n}();n.PullDownStateText=r;i=function(){function n(){}return n.init="上拉可以刷新",n.ready="松开后刷新",n.doing='<div><i class="icon-spinner icon-spin"><\/i><span>&nbsp;正在更新中<\/span><\/div>',n.done="更新完毕",n}();n.PullUpStateText=i;u=function(){function n(n){this._config=n;this.status(t.init)}return n.prototype.status=function(n){if(n===void 0&&(n=undefined),n===undefined)return this._status;this._status=n;this._config.text(n)},n.prototype.execute=function(){var i=this,n=$.Deferred();return window.setTimeout(function(){return n.resolve()},2e3),n.done(function(){return i.status(t.init)}),n},n.createPullDownBar=function(t,u){var f,e;return u=u||{},u=$.extend({text:function(n){this.element.innerHTML=r[n]}},u),f=u.element,f==null&&(f=document.createElement("div"),f.className="page-pulldown",f.innerHTML=i.init,e=t.nodes().content,e.childNodes.length==0?e.appendChild(f):e.insertBefore(f,e.childNodes[0]),u.element=f),new n(u)},n}();n.PullDownBar=u;e=function(){function n(n){this._config=n;this.status(t.init)}return n.prototype.status=function(n){if(n===void 0&&(n=undefined),n===undefined)return this._status;this._status=n;this._config.text(n)},n.prototype.execute=function(){var i=this,n=this._config.execute();return n!=null&&$.isFunction(n.done)&&n.done(function(){return i.status(t.init)}),n},n.createPullUpBar=function(t,r){var u,f;return r=r||{},r=$.extend({execute:function(){},text:function(n){this.element.innerHTML=i[n]}},r),u=t.nodes().pullup,u==null&&(u=document.createElement("div"),u.className="page-pullup",u.style.textAlign="center",f=t.nodes().content,f.appendChild(u)),r.element=u,new n(r)},n}();n.PullUpBar=e})(t=n.gesture||(n.gesture={}))}(n||(n={})),function(n){var t;(function(n){function t(t,i,r,u){var h=0,v=i.cur_scroll_args,e=t(i.nodes().content),l,o=!1,c,a,s=!1,f=new Hammer(i.nodes().content);f.get("pan").set({direction:Hammer.DIRECTION_UP|Hammer.DIRECTION_DOWN});f.on("panstart",function(n){var e=i.nodes().content.getBoundingClientRect(),v=i.nodes().body.getBoundingClientRect();c==null&&(c=e.top);a==null&&(a=e.height-$(i.nodes().body).height());h=n.deltaY;o=u!=null&&Math.abs(v.bottom-e.bottom)<=20&&n.direction==Hammer.DIRECTION_UP;o&&(l=t(i.nodes().body));s=r!=null&&Math.abs(e.top-c)<=20&&n.direction==Hammer.DIRECTION_DOWN;s===!0&&f.get("pan").set({direction:Hammer.DIRECTION_UP|Hammer.DIRECTION_DOWN,domEvents:!1})});f.on("pan",function(t){var i=t;i.distance>n.config.PULL_DOWN_MAX_HEIGHT||(s===!0?(e.set("top",i.deltaY+"px").duration(0).end(),Math.abs(i.deltaY)>n.config.PULLDOWN_EXECUTE_CRITICAL_HEIGHT?r.status(n.RefreshState.ready):r.status(n.RefreshState.init),i.preventDefault()):o&&(l.y(i.deltaY-h).duration(0).end(),Math.abs(i.deltaY)>n.config.PULLUP_EXECUTE_CRITICAL_HEIGHT?u.status(n.RefreshState.ready):u.status(n.RefreshState.init)),h=t.deltaY)});f.on("panend",function(){var f=$.Deferred(),h;s===!0?r.status()==n.RefreshState.ready?(e.set("top",n.config.PULLDOWN_EXECUTE_CRITICAL_HEIGHT+"px").duration(200).end(),r.status(n.RefreshState.doing),r.execute().done(function(){r.status(n.RefreshState.done);e.set("top","0px").duration(500).end(function(){console.log("scrollTop");f.resolve()})})):e.set("top","0px").duration(200).end(function(){return f.resolve()}):o&&(u.status()==n.RefreshState.ready&&u.execute(),console.log("d"),h=t(i.nodes().body),h.y(0).duration(200).end())})}function i(n,i,r){requirejs(["move","hammer"],function(u,f){window.Hammer=f;t(u,n,i,r)})}n.enable_divfixed_gesture=i})(t=n.gesture||(n.gesture={}))}(n||(n={})),function(n){var t;(function(n){function t(t,i,r,u){console.log("enable_ios_gesture");var h=0,a=i.cur_scroll_args,s=t(i.nodes().content),c,l,f=!1,e=!1,o=new Hammer(i.nodes().content);o.get("pan").set({direction:Hammer.DIRECTION_UP|Hammer.DIRECTION_DOWN});o.on("panstart",function(n){h=n.deltaY;f=u!=null&&Math.abs(i.iscroller.startY-i.iscroller.maxScrollY)<=20&&n.direction==Hammer.DIRECTION_UP;f&&(c=t(i.nodes().body));e=r!=null&&Math.abs(i.iscroller.startY)<=20&&n.direction==Hammer.DIRECTION_DOWN;(e===!0||f===!0)&&(i.iscroller.enabled&&(i.iscroller.disable(),console.log("iscrol disable"),l=!0),o.get("pan").set({direction:Hammer.DIRECTION_UP|Hammer.DIRECTION_DOWN,domEvents:!1}))});o.on("pan",function(t){var i=t;i.distance>n.config.PULL_DOWN_MAX_HEIGHT||(e===!0?(s.set("top",i.deltaY+"px").duration(0).end(),i.deltaY>n.config.PULLDOWN_EXECUTE_CRITICAL_HEIGHT?r.status(n.RefreshState.ready):r.status(n.RefreshState.init)):f&&(c.y(i.deltaY-h).duration(0).end(),Math.abs(i.deltaY)>n.config.PULLUP_EXECUTE_CRITICAL_HEIGHT?u.status(n.RefreshState.ready):u.status(n.RefreshState.init)),i.preventDefault(),h=t.deltaY)});o.on("panend",function(o){var h=$.Deferred(),c,a;e===!0?r.status()==n.RefreshState.ready?(s.set("top",n.config.PULLDOWN_EXECUTE_CRITICAL_HEIGHT+"px").duration(200).end(),r.status(n.RefreshState.doing),r.execute().done(function(){r.status(n.RefreshState.done);s.set("top","0px").duration(500).end(function(){console.log("scrollTop");h.resolve()})})):s.set("top","0px").duration(200).end(function(){return h.resolve()}):f&&(u.status()==n.RefreshState.ready&&u.execute(),c=t(i.nodes().body),c.y(0).duration(200).end());a=i.nodes().content.getBoundingClientRect();f=u!=null&&Math.abs(i.iscroller.startY-i.iscroller.maxScrollY)<=20&&o.direction==Hammer.DIRECTION_UP;console.log(u);console.log(i.iscroller);console.log("enablePullUp:"+f);e=r!=null&&a.top<=0&&o.direction==Hammer.DIRECTION_DOWN;window.setTimeout(function(){l&&i.iscroller.enable()},100)})}function i(n,i,r){requirejs(["move","hammer"],function(u,f){window.Hammer=f;t(u,n,i,r)})}n.enable_iscroll_gesture=i})(t=n.gesture||(n.gesture={}))}(n||(n={})),function(n){function f(t,i,r){return r===void 0&&(r={}),n.fireCallback(t,[i,r])}var i=n,it=n.Utility,u=n.Errors,v="page-node",y="page-header",p="page-body",w="page-footer",b="page-loading",k="page-content",d='<i class="icon-spinner icon-spin"><\/i><span style="padding-left:10px;">数据正在加载中...<\/span>',o,g,s,c,a,t;(function(n){n[n.open=0]="open";n[n.scroll=1]="scroll";n[n.pullDown=2]="pullDown";n[n.pullUp=3]="pullUp";n[n.custom=4]="custom"})(n.PageLoadType||(n.PageLoadType={}));o=n.PageLoadType,function(n){n[n.form=0]="form";n[n.bottomBar=1]="bottomBar"}(n.PageLoadingType||(n.PageLoadingType={}));g=n.PageLoadingType,function(n){n[n.swipeLeft=0]="swipeLeft";n[n.swipeRight=1]="swipeRight";n[n.none=2]="none"}(s||(s={})),function(n){n[n.header=1]="header";n[n.body=2]="body";n[n.loading=4]="loading";n[n.footer=8]="footer"}(c||(c={})),function(n){n[n.open=0]="open";n[n.closed=1]="closed"}(a||(a={})),function(n){n[n.None=0]="None";n[n.Left=1]="Left";n[n.Right=2]="Right";n[n.Up=3]="Up";n[n.Donw=4]="Donw"}(n.SwipeDirection||(n.SwipeDirection={}));t=n.SwipeDirection,function(n){n[n.IScroll=0]="IScroll";n[n.Div=1]="Div";n[n.Document=2]="Document"}(n.ScrollType||(n.ScrollType={}));var r=n.ScrollType,nt=function(){function n(n){n.className=v;this.container=n;this.header=document.createElement("div");this.header.className=y;n.appendChild(this.header);this.body=document.createElement("div");this.body.className=p;n.appendChild(this.body);this.content=document.createElement("div");this.content.className=k;$(this.content).hide();this.body.appendChild(this.content);this.loading=document.createElement("div");this.loading.className=b;this.loading.innerHTML='<div class="spin"><i class="icon-spinner icon-spin"><\/i><div>';$(this.loading).hide();this.body.appendChild(this.loading);this.footer=document.createElement("div");this.footer.className=w;n.appendChild(this.footer)}return n}(),tt=function(){function s(t,f,o){var c=this;if(this._loadViewModelResult=null,this._openResult=null,this._hideResult=null,this._showTime=s.animationTime,this._hideTime=s.animationTime,this._enableScrollLoad=!1,this.is_closed=!1,this.actionExecuted=$.Deferred(),this.isActionExecuted=!1,this.preLoad=i.Callbacks(),this.load=i.Callbacks(),this.loadCompleted=i.Callbacks(),this.closing=i.Callbacks(),this.closed=i.Callbacks(),this.scroll=i.Callbacks(),this.showing=i.Callbacks(),this.shown=i.Callbacks(),this.hiding=i.Callbacks(),this.hidden=i.Callbacks(),this.scrollEnd=i.Callbacks(),this.viewChanged=$.Callbacks(),!t)throw u.argumentNull("element");if(f==null)throw u.argumentNull("scrollType");this._prevous=o;this._pageNode=new nt(t);f==r.IScroll?($(this.nodes().container).addClass("ios"),this.ios_scroller=new l(this),n.gesture.enable_iscroll_gesture(this,null,null)):f==r.Div?($(this.nodes().container).addClass("div"),new e(this),n.gesture.enable_divfixed_gesture(this,null,null)):f==r.Document&&($(this.nodes().container).addClass("doc"),new h(this));this.scrollEnd.add(s.page_scrollEnd);o&&o.closed.add(function(){return c.close()});this.formLoading={show:function(){$(c.nodes().loading).is(":visible")||($(c.nodes().loading).show(),$(c.nodes().content).hide())},hide:function(){$(c.nodes().loading).hide();$(c.nodes().content).show()}};this.bottomLoading={show:function(){c.showScrollLoadingBar()},hide:function(){c.hideScrollLoadingBar()}}}return Object.defineProperty(s.prototype,"view",{get:function(){return this._viewDeferred},set:function(n){this._viewDeferred=n},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"action",{get:function(){return this._actionDeferred},set:function(n){this._actionDeferred=n},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"enableScrollLoad",{get:function(){return this._enableScrollLoad},set:function(n){this._enableScrollLoad=n},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"viewText",{get:function(){return this.nodes().container.innerHTML},set:function(n){this.nodes().content.innerHTML=n;var t=this.nodes().content.querySelector('[ch-part="header"]');t&&this.nodes().header.appendChild(t);t=this.nodes().content.querySelector('[ch-part="footer"]');t&&this.nodes().footer.appendChild(t);this.viewChanged.fire()},enumerable:!0,configurable:!0}),s.getPageName=function(n){var t,i;return n.pageName()?(i=window.crossroads.addRoute(n.pageName()),t=i.interpolate(n.values())):t=n.values().controller+"."+n.values().action,t},Object.defineProperty(s.prototype,"routeData",{get:function(){return this._routeData},set:function(n){this._routeData=n},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return this._name||(this._name=s.getPageName(this.routeData)),this._name},enumerable:!0,configurable:!0}),s.prototype.node=function(){return this._pageNode.container},s.prototype.nodes=function(){return this._pageNode},Object.defineProperty(s.prototype,"parent",{get:function(){return this._prevous},enumerable:!0,configurable:!0}),s.prototype.hide=function(n){$(this.node()).is(":visible")&&(n=n||t.None,this.hidePageNode(n))},s.prototype.show=function(n){$(this.node()).is(":visible")||(n=n||t.None,this.showPageNode(n))},s.prototype.visible=function(){return $(this.node()).is(":visible")},s.prototype.hidePageNode=function(n){var u=this;this.on_hiding({});window.move||(n=t.None,console.warn("Move is not loaded and swipe is auto disabled."));var f=$.Deferred(),e=$(this.nodes().container).width(),r=$(this.nodes().container).height(),i=function(){$(u.node()).hide();f.resolve();u.on_hidden({})};switch(n){case t.None:default:i();break;case t.Up:move(this.nodes().container).y(r).end().y(0-r).duration(this._hideTime).end(i);break;case t.Donw:move(this.nodes().container).y(r).duration(this._hideTime).end(i);break;case t.Right:move(this.node()).x(e).duration(this._hideTime).end(i);break;case t.Left:move(this.node()).x(0-e).duration(this._hideTime).end(i)}return f},s.prototype.showPageNode=function(n){var e=this,r;window.move||(n=t.None,console.warn("Move is not loaded and swipe is auto disabled."));this.on_showing({});r=$.Deferred();this.node().style.display="block";var u=$(this.nodes().container).width(),f=$(this.nodes().container).height(),i=function(){r.resolve()};switch(n){case t.None:default:i();break;case t.Donw:move(this.node()).y(0-f).duration(0).end(i);move(this.node()).y(0).duration(0).end(i);break;case t.Up:move(this.node()).y(f).duration(0).end();move(this.node()).y(0).duration(this._showTime).end(i);break;case t.Right:move(this.node()).x(0-u).duration(0).end();move(this.node()).x(0).duration(this._showTime).end(i);break;case t.Left:move(this.node()).x(u).duration(0).end();move(this.node()).x(0).duration(this._showTime).end(i)}return r.done(function(){e.on_shown({})}),r},s.prototype.ensureScrollLoadingBar=function(){this.scrollLoad_loading_bar==null&&(this.scrollLoad_loading_bar=document.createElement("div"),this.scrollLoad_loading_bar.innerHTML='<div name="scrollLoad_loading" style="padding:10px 0px 10px 0px;"><h5 class="text-center"><\/h5><\/div>',this.scrollLoad_loading_bar.style.display="none",$(this.scrollLoad_loading_bar).find("h5").html(d),this.nodes().content.appendChild(this.scrollLoad_loading_bar))},s.prototype.showScrollLoadingBar=function(){this.ensureScrollLoadingBar();$(this.scrollLoad_loading_bar).is(":visible")==!1&&($(this.scrollLoad_loading_bar).show(),this.refreshUI())},s.prototype.hideScrollLoadingBar=function(){this.ensureScrollLoadingBar();$(this.scrollLoad_loading_bar).is(":visible")&&($(this.scrollLoad_loading_bar).hide(),this.refreshUI())},s.prototype.fireEvent=function(n,t){var i=this;return this.actionExecuted.state()=="resolved"?f(n,this,t):this.actionExecuted.pipe(function(){return f(n,i,t)})},s.prototype.on_load=function(t){var r=this,i;return t.loading==null&&(t.loading=t.loadType==n.PageLoadType.scroll?this.bottomLoading:this.formLoading),t.loading.show(),i=this.fireEvent(this.load,t),i.done(function(){return t.loading.hide()}),this.view==null?i.done(function(){return r.on_loadCompleted(t)}):this.view.state()=="resolved"?i.done(function(){return r.on_loadCompleted(t)}):$.when(this.view,i).done(function(){return r.on_loadCompleted(t)}),i},s.prototype.on_loadCompleted=function(n){var t=this;return this.fireEvent(this.loadCompleted,n).done(function(){window.setTimeout(function(){return t.refreshUI()},100)})},s.prototype.on_closing=function(n){return this.fireEvent(this.closing,n)},s.prototype.on_closed=function(n){return this.fireEvent(this.closed,n)},s.prototype.on_scroll=function(n){return this.fireEvent(this.scroll,n)},s.prototype.on_showing=function(n){return this.fireEvent(this.showing,n)},s.prototype.on_shown=function(n){return this.fireEvent(this.shown,n)},s.prototype.on_hiding=function(n){return this.fireEvent(this.hiding,n)},s.prototype.on_hidden=function(n){return this.fireEvent(this.hidden,n)},s.prototype.on_scrollEnd=function(n){return this.fireEvent(this.scrollEnd,n)},s.prototype.open=function(i,r){var u=this,e,f;if(this._openResult)return this._openResult;if(r=r||t.None,e=this.showPageNode(r),f=$.extend(i||{},{loadType:n.PageLoadType.open,loading:this.formLoading}),f.loading.show(),this.view==null&&this.viewText==null)throw n.Errors.viewCanntNull();return this.action&&this.action.done(function(n){n.execute(u);u.actionExecuted.resolve();u.view&&u.view.done(function(n){return u.viewText=n});u.on_load(f)}),e},s.prototype.close=function(n,t){var i=this;if(!this.is_closed){this.on_closing(n);this.visible()?this.hidePageNode(t).done(function(){$(i.node()).remove()}):$(this.node()).remove();n=n||{};this.on_closed(n);this.is_closed=!0}},s.page_scrollEnd=function(n,t){var u=t.scrollTop,f=t.scrollHeight,i=t.clientHeight,e=i/3,r,s;i+u<f-e||n.enableScrollLoad&&(r=$.extend(n.routeData.values(),{loadType:o.scroll,loading:n.bottomLoading}),s=n.on_load(r))},s.prototype.refreshUI=function(){this.ios_scroller&&this.ios_scroller.refresh()},s.animationTime=300,s}();n.Page=tt}(n||(n={})),function(n){var t=function(){function n(n,t,i){this._name=n;this._pattern=t;this._defaults=i}return n.prototype.name=function(){return this._name},n.prototype.defaults=function(){return this._defaults},n.prototype.url=function(){return this._pattern},n}();n.Route=t}(n||(n={})),function(n){var r=n,t=n.Errors,i=function(){function i(){this._init()}return i.prototype._init=function(){var n=window.crossroads;this._source=n.create();this._source.ignoreCase=!0;this._source.normalizeFn=n.NORM_AS_OBJECT;this._priority=0},i.prototype.count=function(){return this._source.getNumRoutes()},i.prototype.mapRoute=function(i){var r,f;i=i||{};var e=i.name,u=i.url,o=i.defaults,s=i.rules||{};if(!e)throw t.argumentNull("name");if(!u)throw t.argumentNull("url");if(this._priority=this._priority+1,r=new n.Route(e,u,o),r.viewPath=i.viewPath,r.actionPath=i.actionPath,f=this._source.addRoute(u,function(){},this._priority),f.rules=s,f.newRoute=r,this._defaultRoute==null){if(this._defaultRoute=r,this._defaultRoute.viewPath==null)throw new Error("default route require view path.");if(this._defaultRoute.actionPath==null)throw new Error("default route require action path.");}return r.viewPath=r.viewPath||this._defaultRoute.viewPath,r.actionPath=r.actionPath||this._defaultRoute.actionPath,r},i.prototype.getRouteData=function(i){var r=this._source.getRouteData(i),e,o,f,s,u;if(r==null)throw t.canntParseUrl(i);for(e={},o=r.route._paramsIds||[],f=0;f<o.length;f++)s=o[f],e[s]=r.params[0][s];return u=new n.RouteData(i),u.values(e),u.actionPath(r.route.newRoute.actionPath),u.viewPath(r.route.newRoute.viewPath),u},i.defaultRouteName="default",i}();n.RouteCollection=i}(n||(n={})),function(n){var t=function(){function n(n){this._url=n}return n.prototype.values=function(n){return n===void 0&&(n=undefined),n!==undefined&&(this._values=n),this._values},n.prototype.viewPath=function(n){return n===void 0&&(n=undefined),n!==undefined&&(this._viewPath=n),this._viewPath},n.prototype.actionPath=function(n){return n===void 0&&(n=undefined),n!==undefined&&(this._actionPath=n),this._actionPath},n.prototype.pageName=function(n){return n===void 0&&(n=undefined),n!==undefined&&(this._pageName=n),this._pageName},n.prototype.url=function(){return this._url},n}();n.RouteData=t}(n||(n={}));var u=function(){function n(){}return n}(),e=function(){function n(n){var t=new u,f,i,e=300,o=function(n){i==null&&(i=0,i=window.setInterval(function(){if(f==t.scrollTop){window.clearInterval(i);i=null;f=null;n.on_scrollEnd(t);return}f=t.scrollTop},e))},r=n.nodes().body;r.onscroll=function(){var i={scrollTop:r.scrollTop,scrollHeight:r.scrollHeight,clientHeight:r.clientHeight};n.on_scroll(i);t.clientHeight=i.clientHeight;t.scrollHeight=i.scrollHeight;t.scrollTop=i.scrollTop;o(n)}}return n}(),t=new u,r,i,o=300;var h=function(){function n(n){$(document).scroll(function(){if(n.visible()){var i={scrollTop:$(document).scrollTop(),scrollHeight:document.body.scrollHeight,clientHeight:$(window).height()};t.clientHeight=i.clientHeight;t.scrollHeight=i.scrollHeight;t.scrollTop=i.scrollTop;$(n.node()).data(n.name+"_scroll_top",i.scrollTop);s(n)}});n.shown.add(function(){var t=$(n.node()).data(n.name+"_scroll_top");t!=null&&$(document).scrollTop(new Number(t).valueOf())})}return n}(),c=this,l=function(){function n(n){var t=this;requirejs(["iscroll"],function(){return t.init(n)})}return n.prototype.init=function(n){var t=this.iscroller=n.iscroller=new IScroll(n.nodes().body,{tap:!0,useTransition:!1,HWCompositing:!1,preventDefault:!0,probeType:1});t.on("scrollEnd",function(){var t=this,i={scrollTop:0-t.y,scrollHeight:t.scrollerHeight,clientHeight:t.wrapperHeight};console.log("directionY:"+t.directionY);console.log("startY:"+t.startY);console.log("scroller.y:"+t.y);n.on_scrollEnd(i)});t.on("scroll",function(){var t=this,i={scrollTop:0-t.y,scrollHeight:t.scrollerHeight,clientHeight:t.wrapperHeight};console.log("directionY:"+t.directionY);console.log("startY:"+t.startY);console.log("scroller.y:"+t.y);n.on_scroll(i)});(function(t,i){$(i).on("tap",function(t){if(n.iscroller.enabled!=!1)for(var r=1,i=t.target;i!=null;){if(i.tagName=="A")return window.open($(i).attr("href"),"_self");if(i=i.parentNode,r=r+1,r>4)return}})})(t,n.nodes().body);n.closing.add(function(){return t.destroy()});$(window).on("resize",function(){window.setTimeout(function(){return t.refresh()},500)})},n.prototype.refresh=function(){this.iscroller&&this.iscroller.refresh()},n}();return n.scroll=function(t){$(t.nodes().body).addClass("wrapper");$(t.nodes().content).addClass("scroller");var i=t._wrapperNode=t.nodes().body;t._scrollerNode=t.nodes().content;$.extend(t,{scrollEnd:n.Callbacks(),on_scrollEnd:function(t){return n.fireCallback(this.scrollEnd,[this,t])},scrollTop:$.proxy(function(n){if(n===undefined)return 0-t.iscroller.y+"px";typeof n=="string"&&(n=new Number(n.substr(0,n.length-2)).valueOf());var i=c.iscroller;i&&i.scrollTo(0,n)},t)})},function(n){var t=n.Errors,i=function(){function n(){}return n.isType=function(n,t){for(var i in n.prototype)if(t[i]===undefined)return!1;return!0},n.isDeferred=function(n){return n==null?!1:n.pipe!=null&&n.always!=null&&n.done!=null?!0:!1},n.format=function(n,t,i,r,u,f,e,o,s,h,c){for(var a=[t,i,r,u,f,e,o,s,h,c],l=0;l<a.length;l++){if(a[l]==null)break;n=n.replace(new RegExp("\\{"+l+"\\}","g"),function(){return a[l]})}return n},n.fileName=function(n,i){var r,u;if(!n)throw t.argumentNull("url");return i=i||!0,n=n.replace("http://","/"),r=n.replace(/^.*[\\\/]/,""),i===!0&&(u=r.split("."),r=u[0]),r},n.log=function(n,t){if(t===void 0&&(t=[]),window.console){if(t==null){console.log(n);return}var i=this.format.apply(this,arguments);console.log(i)}},n.loadjs=function(n){var t=$.Deferred();return requirejs(n,function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];t.resolve.apply(t,i)}),t},n}();n.Utility=i}(n||(n={})),function(n){function r(n,t){var f="http://".toLowerCase(),r,u;return n.substr(0,f.length).toLowerCase()==f?(r=document.createElement("a"),r.setAttribute("href",n),n=decodeURI(r.pathname),u=i.addRoute(n),f+r.host+u.interpolate(t)):(u=i.addRoute(n),u.interpolate(t))}function f(i){var e=i.values().action,o,f;if(!e)throw t.routeDataRequireAction();return o=r(i.actionPath(),i.values()),f=$.Deferred(),requirejs([o],function(t){var r,o;if(t||(console.warn(n.Utility.format("加载活动“{1}.{0}”失败。",e,i.values().controller)),f.reject()),r=t.func||t,!$.isFunction(r))throw n.Errors.modelFileExpecteFunction(e);o=new u(self,e,r);f.resolve(o)},function(n){return f.reject(n)}),f}function e(n){if(!n.values().controller)throw t.routeDataRequireController();if(!n.values().action)throw t.routeDataRequireAction();var u=r(n.viewPath(),n.values()),e=this,i=$.Deferred(),f="http://";return u.substr(0,f.length).toLowerCase()==f?$.ajax({url:u}).done(function(n){n!=null?i.resolve(n):i.reject()}).fail(function(n){return i.reject(n)}):requirejs(["text!"+u],function(n){n!=null?i.resolve(n):i.reject()},function(n){return i.reject(n)}),i}var t=n.Errors,i=window.crossroads,u=function(){function i(t,i,r){if(!t)throw n.Errors.argumentNull("controller");if(!i)throw n.Errors.argumentNull("name");if(!r)throw n.Errors.argumentNull("handle");if(!$.isFunction(r))throw n.Errors.paramTypeError("handle","Function");this._name=i;this._handle=r}return i.prototype.name=function(){return this._name},i.prototype.execute=function(i){if(!i)throw t.argumentNull("page");var r=this._handle.apply({},[i]);return n.Utility.isDeferred(r)?r:$.Deferred().resolve()},i}();n.Action=u;n.createActionDeferred=f;n.createViewDeferred=e}(n||(n={})),window.chitu=n,n});
//# sourceMappingURL=chitu.min.js.map
